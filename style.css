/* ベース設定 */
body { font-family: "Helvetica Neue", Arial, sans-serif; background-color: #f0f4f8; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
.game-container { background: white; width: 90%; max-width: 600px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; display: flex; flex-direction: column; position: relative; min-height: 600px; }

/* スタート画面 */
#start-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 50; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; }
.char-select-title { font-size: 1.8em; margin-bottom: 20px; color: #2c3e50; font-weight: bold; }
.char-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; width: 100%; }
.char-card { border: 3px solid #eee; border-radius: 15px; padding: 15px; cursor: pointer; transition: all 0.2s; text-align: center; background: #fafafa; }
.char-card:hover { transform: translateY(-3px); border-color: #90caf9; }
.char-card.selected { border-color: #2196f3; background: #e3f2fd; box-shadow: 0 0 10px rgba(33, 150, 243, 0.3); }
.char-icon { font-size: 2.5em; display: block; margin-bottom: 5px; }
.char-name { font-weight: bold; margin-bottom: 5px; display: block; }
.char-bonus { font-size: 0.8em; color: #666; background: #fff; padding: 2px 8px; border-radius: 10px; display: inline-block; border: 1px solid #ddd; }
.start-btn { background: #4caf50; color: white; border: none; padding: 15px 50px; font-size: 1.2em; border-radius: 30px; cursor: pointer; font-weight: bold; transition: background 0.3s; box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3); }
.start-btn:disabled { background: #e0e0e0; cursor: not-allowed; box-shadow: none; color: #999; }

/* ゲーム画面 */
.header { background-color: #e3f2fd; padding: 10px 15px; border-bottom: 2px solid #bbdefb; display: flex; align-items: center; justify-content: space-between; }
.player-info { display: flex; align-items: center; gap: 10px; font-weight: bold; color: #1565c0; }
.player-avatar { font-size: 1.5em; background: #fff; padding: 5px; border-radius: 50%; border: 2px solid #1565c0; width: 30px; height: 30px; display: flex; justify-content: center; align-items: center; }
.status-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 15px; background: #f1f8ff; border-bottom: 1px solid #e1e4e8; }
.stat-item { font-size: 0.85em; font-weight: bold; }
.stat-label { margin-bottom: 3px; display: flex; justify-content: space-between; }
.progress-bar { background-color: #e0e0e0; height: 10px; border-radius: 5px; width: 100%; overflow: hidden; }
.progress-fill { height: 100%; width: 50%; transition: width 0.5s ease; }
.scene-area { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; align-items: center; text-align: center; }
.opponent-area { margin-bottom: 15px; height: 80px; display: flex; align-items: flex-end; justify-content: center; }
.opponent-icon { font-size: 4em; background: #fff3e0; width: 80px; height: 80px; display: flex; justify-content: center; align-items: center; border-radius: 50%; border: 4px solid #ffb74d; animation: float 3s ease-in-out infinite; box-shadow: 0 5px 15px rgba(255, 183, 77, 0.3); }
@keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-8px); } 100% { transform: translateY(0px); } }
.year-label { color: #888; font-weight: bold; margin-bottom: 5px; text-transform: uppercase; font-size: 0.8em; letter-spacing: 1px; }
.scene-title { font-size: 1.4em; margin: 5px 0 15px 0; color: #2c3e50; line-height: 1.3; }
.scene-text { line-height: 1.8; font-size: 1.05em; text-align: left; background: #fafafa; padding: 20px; border-radius: 12px; width: 100%; box-sizing: border-box; border: 1px solid #eee; }
.choices-area { padding: 20px; background-color: #f9fafb; border-top: 1px solid #eee; display: flex; flex-direction: column; gap: 12px; }
.btn { background-color: #fff; border: 2px solid #4a90e2; color: #4a90e2; padding: 16px; border-radius: 12px; font-size: 1em; cursor: pointer; transition: all 0.2s; font-weight: bold; position: relative; overflow: hidden; }
.btn:hover { background-color: #4a90e2; color: white; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3); }
.modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 100; backdrop-filter: blur(3px); }
.modal-content { background: white; padding: 30px 25px; border-radius: 20px; width: 85%; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.4); max-height: 85vh; overflow-y: auto; animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.feedback-title { font-size: 1.4em; margin-bottom: 15px; font-weight: bold; color: #333; }
.feedback-text { text-align: left; margin: 15px 0 25px 0; background: #f0f7ff; padding: 15px; border-radius: 10px; line-height: 1.6; font-size: 0.95em; color: #444; border-left: 5px solid #4a90e2; }
.next-btn { background: linear-gradient(135deg, #ff9800, #f57c00); color: white; border: none; padding: 15px 40px; border-radius: 30px; font-size: 1.1em; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4); transition: transform 0.2s; }