<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uni-Life Balance</title>
<style>
  body { font-family: "Helvetica Neue", Arial, sans-serif; background-color: #f0f4f8; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: #333; }
  .game-container { background: white; width: 90%; max-width: 600px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; display: flex; flex-direction: column; position: relative; }
  .header { background-color: #e3f2fd; padding: 15px; border-bottom: 2px solid #bbdefb; }
  .status-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
  .stat-item { font-size: 0.9em; font-weight: bold; }
  .stat-label { margin-bottom: 4px; display: block; }
  .progress-bar { background-color: #eee; height: 12px; border-radius: 6px; width: 100%; overflow: hidden; }
  .progress-fill { height: 100%; width: 50%; transition: width 0.5s ease; }
  .scene-area { padding: 30px 20px; min-height: 250px; display: flex; flex-direction: column; justify-content: center; }
  .year-label { color: #888; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; font-size: 0.85em; }
  .scene-title { font-size: 1.6em; margin: 0 0 15px 0; color: #2c3e50; }
  .scene-text { line-height: 1.8; font-size: 1.1em; }
  .choices-area { padding: 20px; background-color: #f9fafb; border-top: 1px solid #eee; display: flex; flex-direction: column; gap: 12px; }
  .btn { background-color: #fff; border: 2px solid #4a90e2; color: #4a90e2; padding: 18px; border-radius: 12px; font-size: 1em; cursor: pointer; transition: all 0.2s; font-weight: bold; }
  .btn:hover { background-color: #4a90e2; color: white; transform: translateY(-2px); }
  .modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 100; backdrop-filter: blur(2px); }
  .modal-content { background: white; padding: 30px; border-radius: 15px; width: 80%; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
  .feedback-title { font-size: 1.4em; margin-bottom: 15px; font-weight: bold; }
  .feedback-text { text-align: left; margin: 15px 0 25px 0; background: #f0f7ff; padding: 15px; border-radius: 8px; line-height: 1.6; font-size: 0.95em; color: #444; }
  .next-btn { background-color: #ff9800; color: white; border: none; padding: 12px 40px; border-radius: 30px; font-size: 1.1em; font-weight: bold; cursor: pointer; }
</style>
</head>
<body>
<div class="game-container">
  <div class="header">
    <div class="status-grid">
      <div class="stat-item"><span class="stat-label">‚ù§Ô∏è Ë∫´‰Ωì</span><div class="progress-bar"><div id="bar-physical" class="progress-fill" style="background:#ef5350;"></div></div></div>
      <div class="stat-item"><span class="stat-label">üß† „É°„É≥„Çø„É´</span><div class="progress-bar"><div id="bar-mental" class="progress-fill" style="background:#ab47bc;"></div></div></div>
      <div class="stat-item"><span class="stat-label">üõ°Ô∏è Áü•Ë≠ò</span><div class="progress-bar"><div id="bar-literacy" class="progress-fill" style="background:#42a5f5;"></div></div></div>
      <div class="stat-item"><span class="stat-label">ü§ù Á§æ‰ºö</span><div class="progress-bar"><div id="bar-social" class="progress-fill" style="background:#66bb6a;"></div></div></div>
    </div>
  </div>
  <div class="scene-area">
    <div id="year-display" class="year-label">LOADING...</div>
    <h2 id="scene-title" class="scene-title">Ë™≠„ÅøËæº„Åø‰∏≠...</h2>
    <div id="scene-text" class="scene-text"></div>
  </div>
  <div id="choices-container" class="choices-area"></div>
  <div id="feedback-modal" class="modal-overlay">
    <div class="modal-content">
      <div id="fb-title" class="feedback-title"></div>
      <div id="fb-text" class="feedback-text"></div>
      <button class="next-btn" onclick="nextScenario()">Ê¨°„Å∏ ‚ñ∂</button>
    </div>
  </div>
</div>

<script>
const scenarios = [
  {
    year: "1Âπ¥ÁõÆ Êò•",
    title: "Êñ∞Ê≠ì„Ç≥„É≥„Éë„ÅÆÊ¥óÁ§º",
    text: "„Çµ„Éº„ÇØ„É´„ÅÆÊñ∞Ê≠ì„ÅßÂÖàËº©„ÅåÁõõ„Çä‰∏ä„Åå„Å£„Å¶„ÅÑ„Çã„ÄÇ„Äå‰ø∫„ÅÆÈÖí„ÅåÈ£≤„ÇÅ„Å™„ÅÑ„ÅÆ„ÅãÔºÅ‰∏ÄÊùØ„Å†„Åë„Å™„ÇâÂ§ß‰∏àÂ§´„Å†„ÇçÔºü„Äç„Å®Âº∑„ÅèÂãß„ÇÅ„Çâ„Çå„Åü„ÄÇ",
    choices: [
      { text: "Â†¥„ÅÆÁ©∫Ê∞ó„ÇíË™≠„Çì„ÅßÈ£≤„ÇÄ", effects: { physical: -20, social: +5 }, fbTitle: "‚ö†Ô∏è Ë¶ÅÊ≥®ÊÑè", fbText: "„Äå‰∏ÄÊùØ„Å†„Åë„Äç„Åå‰∏ÄÊ∞óÈ£≤„Åø„ÅÆÂºï„ÅçÈáë„Å´„Å™„Çä„Åæ„Åô„ÄÇÁü≠ÊôÇÈñì„ÅÆÂ§ßÈáèÈ£≤ÈÖíÔºà„Éì„É≥„Ç∏È£≤ÈÖíÔºâ„ÅØÊÄ•ÊÄß„Ç¢„É´„Ç≥„Éº„É´‰∏≠ÊØí„ÅÆ„É™„Çπ„ÇØ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ" },
      { text: "„Äå‰ΩìË≥™ÁöÑ„Å´È£≤„ÇÅ„Åæ„Åõ„Çì„Äç„Å®Êñ≠„Çã", effects: { physical: +10, literacy: +10, social: +5 }, fbTitle: "‚úÖ „Éä„Ç§„ÇπÂà§Êñ≠ÔºÅ", fbText: "Á¥†Êô¥„Çâ„Åó„ÅÑ„Åß„Åô„ÄÇ„Ç¢„É´„Ç≥„Éº„É´„Éë„ÉÉ„ÉÅ„ÉÜ„Çπ„ÉàÁ≠â„ÅßËá™ÂàÜ„ÅÆ‰ΩìË≥™„ÇíÁü•„Å£„Å¶„Åä„Åè„Åì„Å®„ÅØÂ§ßÂàá„Åß„Åô„ÄÇÂº∑Ë¶Å„ÅØ„Éè„É©„Çπ„É°„É≥„Éà„Å´„ÅÇ„Åü„Çä„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    year: "1Âπ¥ÁõÆ Â§è",
    title: "Âàù„ÇÅ„Å¶„ÅÆÂ§ú",
    text: "„Éë„Éº„Éà„Éä„Éº„Å®„ÅÑ„ÅÑÈõ∞Âõ≤Ê∞ó„Å´„ÄÇ„Åó„Åã„Åó„ÄÅ„Ç≥„É≥„Éâ„Éº„É†„ÇíÊåÅ„Å£„Å¶„ÅÑ„Å™„ÅÑ„Åì„Å®„Å´Ê∞ó„Å•„ÅÑ„Åü„ÄÇÁõ∏Êâã„ÅØ„ÄåÂ§ñ„Å´Âá∫„Åõ„Å∞Â§ß‰∏àÂ§´„Å†„Çà„Äç„Å®Ë®Ä„Å£„Å¶„ÅÑ„Çã„ÄÇ",
    choices: [
      { text: "Áõ∏Êâã„Çí‰ø°„Åò„Å¶Âèó„ÅëÂÖ•„Çå„Çã", effects: { physical: -30, literacy: -20, social: +5 }, fbTitle: "‚ùå „Çπ„Éà„ÉÉ„ÉóÔºÅ", fbText: "Â§ñÂá∫„ÅóÔºàËÜ£Â§ñÂ∞ÑÁ≤æÔºâ„ÅØÈÅøÂ¶äÂäπÊûú„Åå‰Ωé„Åè„ÄÅÊÄßÊÑüÊüìÁóá„ÅØÂÖ®„ÅèÈò≤„Åí„Åæ„Åõ„Çì„ÄÇ„Éî„É´„ÇÇÊÄßÊÑüÊüìÁóá„ÅØ‰∫àÈò≤„Åß„Åç„Åæ„Åõ„Çì„ÄÇ" },
      { text: "„Äå‰ªäÊó•„ÅØ„ÇÑ„ÇÅ„Å¶„Åä„Åì„ÅÜ„Äç„Å®Êñ≠„Çã", effects: { physical: +10, literacy: +20, social: +10 }, fbTitle: "‚úÖ Á¥†Êô¥„Çâ„Åó„ÅÑÈÅ∏Êäû", fbText: "ÂêåÊÑèÔºà„Ç≥„É≥„Çª„É≥„ÉàÔºâ„ÅØ„ÅÑ„Å§„Åß„ÇÇÊí§ÂõûÂèØËÉΩ„Åß„Åô„ÄÇÈÅøÂ¶äÂÖ∑„Åå„Å™„ÅÑÂ†¥Âêà„ÄÅÊÄßË°åÁÇ∫„Çí„Åó„Å™„ÅÑ„Å®„ÅÑ„ÅÜÈÅ∏Êäû„ÅØÂ∞äÈáç„Åï„Çå„Çã„Åπ„Åç„Åß„Åô„ÄÇ" }
    ]
  },
  {
    year: "2Âπ¥ÁõÆ Áßã",
    title: "Ë©¶È®ìÂâç„ÅÆË™òÊÉë",
    text: "ÊòéÊó•„ÅØÂ§ß‰∫ã„Å™„ÉÜ„Çπ„Éà„Å†„ÅåÁú†„ÅÑ„ÄÇSNS„Åß„ÄéÈõÜ‰∏≠Âäõ„ÅåÁàÜ‰∏ä„Åå„Çä„Åô„ÇãÊµ∑Â§ñ„Çµ„Éó„É™„Äè„ÅåË©±È°å„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ",
    choices: [
      { text: "„Éç„ÉÉ„Éà„ÅßË≥ºÂÖ•„Åó„Å¶È£≤„ÇÄ", effects: { physical: -20, mental: -10, literacy: -30 }, fbTitle: "‚ö†Ô∏è Âç±Èô∫„Åß„Åô", fbText: "ÊàêÂàÜ‰∏çÊòé„ÅÆ„Çµ„Éó„É™„ÇÑ„Äé„Çπ„Éû„Éº„Éà„Éâ„É©„ÉÉ„Ç∞„Äè„Å´„ÅØÂÅ•Â∫∑Ë¢´ÂÆ≥„ÇÑ‰æùÂ≠ò„ÅÆ„É™„Çπ„ÇØ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂÖ¨ÁöÑÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ" },
      { text: "‰ªäÊó•„ÅØÊó©„ÅèÂØù„Å¶Êúù„ÇÑ„Çã", effects: { physical: +10, mental: +10, literacy: +10 }, fbTitle: "‚úÖ Ê≠£Ëß£„Åß„Åô", fbText: "Áù°Áú†‰∏çË∂≥„ÅØË®òÊÜ∂„ÅÆÂÆöÁùÄ„ÇíÂ¶®„Åí„Åæ„Åô„ÄÇÂçÅÂàÜ„Å™Áù°Áú†„Çí„Å®„ÇãÊñπ„Åå„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÅØÂêë‰∏ä„Åó„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    year: "3Âπ¥ÁõÆ ÂÜ¨",
    title: "„É°„É≥„Çø„É´„ÅÆ‰∏çË™ø",
    text: "Â∞±Ê¥ª„Å®ÂÆüÁøí„ÅåÈáç„Å™„ÇäÁú†„Çå„Å™„ÅÑÊó•„ÅåÁ∂ö„ÅÑ„Å¶„ÅÑ„Çã„ÄÇ„ÄåË™∞„Åã„Å´Áõ∏Ë´á„Åó„Åü„ÅÑ„Åë„Å©„ÄÅËø∑ÊÉë„Åã„Å™‚Ä¶„Äç„Å®ËÄÉ„Åà„Å¶„Åó„Åæ„ÅÜ„ÄÇ",
    choices: [
      { text: "‰∏Ä‰∫∫„ÅßËÄê„Åà„Çã", effects: { physical: -10, mental: -30 }, fbTitle: "ü§î ÁÑ°ÁêÜ„ÅØÁ¶ÅÁâ©", fbText: "„Äå„Å§„Çâ„ÅÑ„Äç„Å®Â£∞„Çí‰∏ä„Åí„Çã„Åì„Å®„ÅØÂº±„Åï„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊàëÊÖ¢„Åó„Åô„Åé„Çã„Å®ÂõûÂæ©„Å´ÊôÇÈñì„Åå„Åã„Åã„Çä„Åæ„Åô„ÄÇ" },
      { text: "Â§ßÂ≠¶„ÅÆÁõ∏Ë´áÂÆ§„ÇÑÂèã‰∫∫„Å´Ë©±„Åô", effects: { mental: +30, social: +10, literacy: +10 }, fbTitle: "‚úÖ „Åù„ÅÆÈÄö„Çä", fbText: "Êó©Êúü„ÅÆÁõ∏Ë´á„ÅØÊÇ™Âåñ‰∫àÈò≤„Å´„Å§„Å™„Åå„Çä„Åæ„Åô„ÄÇÂ∞ÇÈñÄÊ©üÈñ¢„Å∏„ÅÆÁõ∏Ë´á„ÅåÊé®Â•®„Åï„Çå„Åæ„Åô„ÄÇ" }
    ]
  },
  {
    year: "4Âπ¥ÁõÆ Êò•",
    title: "„ÉØ„ÇØ„ÉÅ„É≥„ÅÆÂôÇ",
    text: "„ÄåHPV„ÉØ„ÇØ„ÉÅ„É≥„ÅØ‰∏çÂ¶ä„ÅÆÂéüÂõ†„Å´„Å™„Çã„Äç„Å®„ÅÑ„ÅÜÊäïÁ®ø„ÅåSNS„ÅßÊã°Êï£„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇÂèã‰∫∫„Åå‰∏çÂÆâ„Åù„ÅÜ„Å´„Åó„Å¶„ÅÑ„Çã„ÄÇ",
    choices: [
      { text: "„ÄåÊÄñ„ÅÑ„Åã„ÇâÊâì„Åü„Å™„ÅÑÊñπ„Åå„ÅÑ„ÅÑ„Çà„Äç„Å®Ë®Ä„ÅÜ", effects: { literacy: -30, physical: -10 }, fbTitle: "‚ùå Ë™§ÊÉÖÂ†±„Åß„Åô", fbText: "„Äå„ÉØ„ÇØ„ÉÅ„É≥„Åå‰∏çÂ¶ä„ÅÆÂéüÂõ†„Å´„Å™„Çã„Äç„Å®„ÅÑ„ÅÜÁßëÂ≠¶ÁöÑÊ†πÊã†„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇË™§ÊÉÖÂ†±„ÅÆÊã°Êï£„Å´Âä†ÊãÖ„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ" },
      { text: "ÂÖ¨ÁöÑÊ©üÈñ¢„ÅÆ„Çµ„Ç§„Éà„Çí‰∏ÄÁ∑í„Å´Ë¶ã„Çã", effects: { literacy: +30, social: +10 }, fbTitle: "‚úÖ Á¥†Êô¥„Çâ„Åó„ÅÑ„É™„ÉÜ„É©„Ç∑„Éº", fbText: "‰∏çÂÆâ„Å™ÊôÇ„Åì„Åù„ÄÅ„Ç®„Éì„Éá„É≥„ÇπÔºàÁßëÂ≠¶ÁöÑÊ†πÊã†Ôºâ„ÇíÁ¢∫Ë™ç„Åô„Çã„Åì„Å®„ÅåÈáçË¶Å„Åß„Åô„ÄÇHPV„ÉØ„ÇØ„ÉÅ„É≥„ÅØÂ≠êÂÆÆÈ†∏„Åå„ÇìÁ≠â„ÅÆ‰∫àÈò≤„Å´ÊúâÂäπ„Åß„Åô„ÄÇ" }
    ]
  },
  {
    year: "ÂçíÊ•≠", title: "ÂçíÊ•≠„Åä„ÇÅ„Åß„Å®„ÅÜÔºÅ", text: "4Âπ¥Èñì„ÅÆÂ§ßÂ≠¶ÁîüÊ¥ª„ÅåÁµÇ„Çè„Çä„Åæ„Åó„Åü„ÄÇ„ÅÇ„Å™„Åü„ÅÆÈÅ∏Êäû„ÅÆÁµêÊûú„ÅØ‚Ä¶Ôºü", choices: [], isEnding: true
  }
];

let currentScenarioIndex = 0;
let stats = { physical: 50, mental: 50, literacy: 50, social: 50 };

function initGame() {
  updateStatDisplay();
  loadScenario(0);
}

function loadScenario(index) {
  if (index >= scenarios.length) return;
  const scene = scenarios[index];
  const container = document.getElementById('choices-container');
  document.getElementById('year-display').innerText = scene.year;
  document.getElementById('scene-title').innerText = scene.title;
  document.getElementById('scene-text').innerText = scene.text;
  container.innerHTML = '';

  if (scene.isEnding) {
    let finalMsg = "„ÅÇ„Å™„Åü„ÅÆÂÅ•Â∫∑„É™„ÉÜ„É©„Ç∑„Éº„ÅØÁ¥†Êô¥„Çâ„Åó„ÅÑ„ÇÇ„ÅÆ„Åß„Åó„ÅüÔºÅ";
    if (stats.physical < 30) finalMsg = "ÂÅ•Â∫∑Èù¢„ÅßÂ∞ë„ÅóÁÑ°ÁêÜ„Çí„Åó„Åô„Åé„Åü„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ";
    if (stats.literacy > 80) finalMsg = "„Éï„Ç°„ÇØ„Éà„ÉÅ„Çß„ÉÉ„ÇØ„ÅÆÈÅî‰∫∫„Å´„Å™„Çå„Åæ„Åó„ÅüÔºÅ";
    container.innerHTML = `<div style="padding:20px;background:#e3f2fd;border-radius:10px;"><strong>ÊàêÁ∏æË°®:</strong><br>${finalMsg}<br><br><button class="btn" onclick="location.reload()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÈÅä„Å∂</button></div>`;
    return;
  }

  scene.choices.forEach((choice, i) => {
    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.innerText = choice.text;
    btn.onclick = () => makeChoice(index, i);
    container.appendChild(btn);
  });
}

function makeChoice(sceneIndex, choiceIndex) {
  const choice = scenarios[sceneIndex].choices[choiceIndex];
  if (choice.effects) {
    for (let key in choice.effects) {
      stats[key] = Math.max(0, Math.min(100, stats[key] + choice.effects[key]));
    }
  }
  updateStatDisplay();
  document.getElementById('fb-title').innerText = choice.fbTitle;
  document.getElementById('fb-text').innerText = choice.fbText;
  document.getElementById('feedback-modal').style.display = 'flex';
}

function nextScenario() {
  document.getElementById('feedback-modal').style.display = 'none';
  currentScenarioIndex++;
  loadScenario(currentScenarioIndex);
}

function updateStatDisplay() {
  document.getElementById('bar-physical').style.width = stats.physical + '%';
  document.getElementById('bar-mental').style.width = stats.mental + '%';
  document.getElementById('bar-literacy').style.width = stats.literacy + '%';
  document.getElementById('bar-social').style.width = stats.social + '%';
}

initGame();
</script>
</body>
</html>
